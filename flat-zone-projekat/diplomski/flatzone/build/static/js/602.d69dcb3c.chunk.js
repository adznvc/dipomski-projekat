"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[602],{8602:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r=t(1413),i=t(9439),a=t(2791),o=t(3044),s=t(6151),l=t(4708),c=t(6103),d=t(533),u=t(1889),m=t(4554),h=t(403),f=t(890),x=t(1614),p=t(427),Z=t(7689),j=t(1134),g=t(654),b=(t(4055),t(7823),t(7394)),v=t(3400),S=t(5646),k=t(9658),y=t(9823),I=t(184);function w(){var e=(0,Z.s0)(),n=(0,j.cI)({mode:"all",reValidateMode:"onBlur"}),t=n.control,w=n.handleSubmit,z=(0,a.useContext)(g.Z),D=(0,a.useState)(!1),C=(0,i.Z)(D,2),P=(C[0],C[1]),T=a.useState(!1),W=(0,i.Z)(T,2),A=W[0],q=W[1],U=a.useState(!1),_=(0,i.Z)(U,2),H=_[0],L=_[1],V=a.useState(""),B=(0,i.Z)(V,2),F=B[0],O=B[1],Q=a.useState(""),R=(0,i.Z)(Q,2),E=R[0],K=R[1],X=function(e,n){q(!1)},G=function(e,n){L(!1)},J=(0,I.jsx)(a.Fragment,{children:(0,I.jsx)(v.Z,{size:"small","aria-label":"close",color:"inherit",onClick:G,children:(0,I.jsx)(y.Z,{fontSize:"small"})})}),M=(0,I.jsx)(a.Fragment,{children:(0,I.jsx)(v.Z,{size:"small","aria-label":"close",color:"inherit",onClick:X,children:(0,I.jsx)(y.Z,{fontSize:"small"})})});return(0,I.jsxs)(x.Z,{component:"main",maxWidth:"xs",children:[(0,I.jsx)(l.ZP,{}),(0,I.jsxs)(m.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,I.jsx)(o.Z,{sx:{m:1,bgcolor:p.Z[500]},children:(0,I.jsx)(h.Z,{})}),(0,I.jsx)(f.Z,{component:"h1",variant:"h5",children:"Log in"}),(0,I.jsxs)(u.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,children:[(0,I.jsx)(b.Z,{onClick:function(){e("/home")}}),(0,I.jsx)(f.Z,{variant:"body1",children:"Back"})]}),(0,I.jsxs)(m.Z,{component:"form",onSubmit:w((function(n){P(!0),fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDzUkDmXRepWIZxhwUQs4AVd-__LAdH98k",{method:"POST",body:JSON.stringify({email:n.email,password:n.password,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){return P(!1),e.ok?(K("Login success"),L(!0),P(!0),e.json()):e.json().then((function(n){return O("Authentication failed!"),q(!0),P(!0),e.json()}))})).then((function(n){var t=new Date((new Date).getTime()+3600*+n.expiresIn);e("/admin"),z.login(n.idToken,t),localStorage.setItem("idUser",n.localId),localStorage.setItem("email",n.email)}))})),sx:{mt:2},children:[(0,I.jsx)(j.Qr,{control:t,name:"email",defaultValue:"",render:function(e){var n=e.field,t=e.fieldState.error;return(0,I.jsx)(c.Z,(0,r.Z)((0,r.Z)({sx:{mt:3,mb:2}},n),{},{type:"text",required:!0,fullWidth:!0,label:"E-mail",error:!!t,helperText:t?t.message:""}))},rules:{required:{value:!0,message:"required email address"}}}),(0,I.jsx)(j.Qr,{control:t,name:"password",defaultValue:"",render:function(e){var n=e.field,t=e.fieldState.error;return(0,I.jsx)(c.Z,(0,r.Z)((0,r.Z)({sx:{mt:3,mb:2}},n),{},{type:"password",required:!0,fullWidth:!0,label:"Password",error:!!t,helperText:t?t.message:""}))},rules:{required:{value:!0,message:"Password is required"}}}),(0,I.jsx)(s.Z,{fullWidth:!0,type:"submit",variant:"contained",onSubmit:function(){e("/admin")},children:"Submit"}),(0,I.jsx)(u.ZP,{container:!0,sx:{mt:2,mb:2},children:(0,I.jsx)(u.ZP,{item:!0,children:(0,I.jsx)(d.Z,{variant:"body2",onClick:function(){e("/register")},children:"Don't have an account? Sign Up"})})})]}),(0,I.jsx)(S.Z,{open:A,message:F,autoHideDuration:5e3,variant:"error",onClose:X,anchorOrigin:{vertical:"bottom",horizontal:"right"},action:M,children:(0,I.jsx)(k.Z,{variant:"filled",action:M,severity:"error",children:F})}),(0,I.jsx)(S.Z,{open:H,message:E,autoHideDuration:4e3,onClose:G,anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"success",action:J,children:(0,I.jsx)(k.Z,{variant:"filled",action:J,severity:"success",children:E})})]})]})}},7823:function(e,n,t){t.d(n,{t:function(){return l}});var r=t(4702),i=t(5390),a=t(4055),o=t(276),s=(0,r.ZF)({apiKey:"AIzaSyDzUkDmXRepWIZxhwUQs4AVd-__LAdH98k",authDomain:"flat-zone-9f598.firebaseapp.com",projectId:"flat-zone-9f598",storageBucket:"flat-zone-9f598.appspot.com",messagingSenderId:"1083728366416",appId:"1:1083728366416:web:ef021a170b9db8ecdd3a55",measurementId:"G-ZWKBPLR54E"}),l=((0,i.IH)(s),(0,a.v0)(),(0,o.cF)(s))}}]);
//# sourceMappingURL=602.d69dcb3c.chunk.js.map