"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[495],{785:function(e,r,t){t.r(r),t.d(r,{default:function(){return q}});var a=t(1413),s=t(4165),n=t(5861),i=t(9439),o=t(2791),l=t(3044),d=t(6151),u=t(4708),c=t(6103),m=t(4554),h=t(403),f=t(890),p=t(1614),x=t(1134),Z=t(654),g=t(7689),b=(t(7823),t(1889)),j=t(7394),v=t(3400),y=t(5646),w=t(9658),S=t(9823),k=t(533),z=t(184);function q(){var e=(0,g.s0)(),r=(0,x.cI)({mode:"all",reValidateMode:"onBlur"}),t=r.control,q=r.handleSubmit,I=(r.watch,r.register,r.errors,(0,o.useContext)(Z.Z)),P=(0,o.useState)(!1),T=(0,i.Z)(P,2),A=(T[0],T[1]),C=o.useState(!1),D=(0,i.Z)(C,2),N=D[0],W=D[1],V=o.useState(!1),_=(0,i.Z)(V,2),Q=_[0],U=_[1],L=o.useState(""),F=(0,i.Z)(L,2),H=F[0],O=F[1],R=o.useState(""),B=(0,i.Z)(R,2),X=B[0],E=B[1],J=function(e,r){W(!1)},K=function(e,r){U(!1)},G=function(){var r=(0,n.Z)((0,s.Z)().mark((function r(t){return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return A(!0),"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDzUkDmXRepWIZxhwUQs4AVd-__LAdH98k",r.next=4,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDzUkDmXRepWIZxhwUQs4AVd-__LAdH98k",{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 4:return"https://flat-zone-9f598-default-rtdb.europe-west1.firebasedatabase.app/users.json",r.next=7,fetch("https://flat-zone-9f598-default-rtdb.europe-west1.firebasedatabase.app/users.json",{method:"POST",body:JSON.stringify({firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password,phoneNumber:t.phone}),headers:{"Content-Type":"application/json"}}).then((function(e){return A(!1),e.ok?(E("Registered"),U(!0),A(!0),e.json()):e.json().then((function(r){return O("Authentication failed!"),W(!0),A(!0),e.json()}))})).then((function(r){var t=new Date((new Date).getTime()+1e3*+r.expiresIn);I.login(r.idToken,t),localStorage.setItem("idUser",r.localId),e("/login"),console.log(r)}));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),M=(0,z.jsx)(o.Fragment,{children:(0,z.jsx)(v.Z,{size:"small","aria-label":"close",color:"inherit",onClick:K,children:(0,z.jsx)(S.Z,{fontSize:"small"})})}),Y=(0,z.jsx)(o.Fragment,{children:(0,z.jsx)(v.Z,{size:"small","aria-label":"close",color:"inherit",onClick:J,children:(0,z.jsx)(S.Z,{fontSize:"small"})})});return(0,z.jsxs)(p.Z,{component:"main",maxWidth:"xs",children:[(0,z.jsx)(u.ZP,{}),(0,z.jsxs)(m.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,z.jsx)(l.Z,{sx:{m:1,bgcolor:"#0277bd"},children:(0,z.jsx)(h.Z,{})}),(0,z.jsx)(f.Z,{component:"h1",variant:"h5",children:"Register"}),(0,z.jsxs)(b.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,children:[(0,z.jsx)(j.Z,{onClick:function(){e("/home")}}),(0,z.jsx)(f.Z,{variant:"body1",children:"Back"})]}),(0,z.jsxs)(m.Z,{component:"form",onSubmit:q(G),sx:{mt:3},children:[(0,z.jsx)(x.Qr,{control:t,name:"firstName",defaultValue:"",render:function(e){var r=e.field,t=e.fieldState.error;return(0,z.jsx)(c.Z,(0,a.Z)((0,a.Z)({sx:{mt:3,mb:2}},r),{},{type:"text",required:!0,fullWidth:!0,label:"First Name",error:!!t,helperText:t?t.message:""}))},rules:{required:{value:!0,message:"First name is required"},pattern:{value:/[A-Za-z]/,message:"Sorry this form can only handle names with characters"}}}),(0,z.jsx)(x.Qr,{control:t,name:"lastName",defaultValue:"",render:function(e){var r=e.field,t=e.fieldState.error;return(0,z.jsx)(c.Z,(0,a.Z)((0,a.Z)({sx:{mt:3,mb:2}},r),{},{type:"text",required:!0,fullWidth:!0,label:"Last Name",error:!!t,helperText:t?t.message:""}))},rules:{required:{value:!0,message:"Last name is required"},pattern:{value:/[A-Za-z]/,message:"Sorry this form can only handle names with characters"}}}),(0,z.jsx)(x.Qr,{control:t,name:"email",defaultValue:"",render:function(e){var r=e.field,t=e.fieldState.error;return(0,z.jsx)(c.Z,(0,a.Z)((0,a.Z)({sx:{mt:3,mb:2}},r),{},{type:"text",required:!0,fullWidth:!0,label:"E-mail",error:!!t,helperText:t?t.message:""}))},rules:{required:{value:!0,message:"required email address"}}}),(0,z.jsx)(x.Qr,{control:t,name:"password",defaultValue:"",render:function(e){var r=e.field,t=e.fieldState.error;return(0,z.jsx)(c.Z,(0,a.Z)((0,a.Z)({sx:{mt:3,mb:2}},r),{},{type:"password",required:!0,fullWidth:!0,label:"Password",error:!!t,helperText:t?t.message:""}))},rules:{required:{value:!0,message:"Password is required"},minLength:{value:8,message:"Password must have at least 8 characters"}}}),(0,z.jsx)(x.Qr,{control:t,name:"password_repeat",defaultValue:"",render:function(e){var r=e.field,t=e.fieldState.error;return(0,z.jsx)(c.Z,(0,a.Z)((0,a.Z)({sx:{mt:3,mb:2}},r),{},{name:"password_repeat",type:"password",required:!0,fullWidth:!0,label:"Confirm password",error:!!t,helperText:t?t.message:""}))},rules:{required:{value:!0,message:"Password is required"},minLength:{value:8,message:"Password must have at least 8 characters"}}}),(0,z.jsx)(x.Qr,{control:t,name:"phone",defaultValue:"",render:function(e){var r=e.field,t=e.fieldState.error;return(0,z.jsx)(c.Z,(0,a.Z)((0,a.Z)({sx:{mt:3,mb:2}},r),{},{type:"number",required:!0,fullWidth:!0,label:"Phone Number",error:!!t,helperText:t?t.message:""}))},rules:{required:{value:!0,message:"Phone number is required"}}}),(0,z.jsx)(d.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,bgcolor:"#0277bd"},children:"Submit"}),(0,z.jsx)(b.ZP,{container:!0,sx:{mt:2,mb:2},children:(0,z.jsx)(b.ZP,{item:!0,children:(0,z.jsx)(k.Z,{variant:"body2",onClick:function(){e("/login")},children:"You already have a user account? Sign in here"})})}),(0,z.jsx)(y.Z,{open:N,message:H,autoHideDuration:3e3,variant:"error",onClose:J,anchorOrigin:{vertical:"bottom",horizontal:"right"},action:Y,children:(0,z.jsx)(w.Z,{variant:"filled",action:Y,severity:"error",children:H})}),(0,z.jsx)(y.Z,{open:Q,message:X,autoHideDuration:3e3,onClose:K,anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"success",action:M,children:(0,z.jsx)(w.Z,{variant:"filled",action:M,severity:"success",children:X})})]})]})]})}},7823:function(e,r,t){t.d(r,{t:function(){return l}});var a=t(4702),s=t(5390),n=t(4055),i=t(276),o=(0,a.ZF)({apiKey:"AIzaSyDzUkDmXRepWIZxhwUQs4AVd-__LAdH98k",authDomain:"flat-zone-9f598.firebaseapp.com",projectId:"flat-zone-9f598",storageBucket:"flat-zone-9f598.appspot.com",messagingSenderId:"1083728366416",appId:"1:1083728366416:web:ef021a170b9db8ecdd3a55",measurementId:"G-ZWKBPLR54E"}),l=((0,s.IH)(o),(0,n.v0)(),(0,i.cF)(o))}}]);
//# sourceMappingURL=495.50550306.chunk.js.map